---
import "../styles/global.css";
import ThemeToggle from "../components/ThemeToggle.astro";
export interface Props {
  title?: string;
  description?: string;
  lang?: string;
  navLabels?: { about: string; requirements: string; projects: string; contact: string };
}
const { title = "Portfolio - João Vitor", description = "Data Analyst & Data Scientist", lang = "en", navLabels = { about: 'About', requirements: 'Requirements', projects: 'Projects', contact: 'Contact' } } = Astro.props as Props;
---
<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href={`${import.meta.env.BASE_URL}favicon.svg`} />
    <link rel="mask-icon" href={`${import.meta.env.BASE_URL}favicon.svg`} color="#6d28d9" />
    <meta name="theme-color" content="#0f0b1a" media="(prefers-color-scheme: dark)" />
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />
    <title>{title}</title>
    <script is:inline>
      // Initialize theme early to prevent flash of wrong theme
      (function(){
        try {
          const stored = localStorage.getItem('theme');
          const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          if (stored === 'dark' || (!stored && prefersDark)) {
            document.documentElement.classList.add('dark');
          } else {
            document.documentElement.classList.remove('dark');
          }
        } catch (e) {}
      })();
    </script>
  </head>
  <body class="min-h-screen bg-zinc-50 text-zinc-900 antialiased dark:bg-[#0f0b1a] dark:text-zinc-100">
    <header class="border-b bg-white dark:bg-[#0f0b1a]/70 dark:border-[#241f3b]">
      <nav class="mx-auto max-w-5xl flex items-center justify-between p-4">
        <a href="/" class="font-semibold" aria-label="Home">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-6 w-6 text-accent" fill="currentColor">
            <path d="M3 3h2v18H3V3zm4 12h2v6H7v-6zm4-6h2v12h-2V9zm4-4h2v16h-2V5zm4 8h2v8h-2v-8z"/>
          </svg>
        </a>
        <div class="flex items-center gap-3 text-sm">
          <a href="/#about" class="hover:text-accent">{navLabels.about}</a>
          <a href="/#requirements" class="hover:text-accent">{navLabels.requirements}</a>
          <a href="/#projects" class="hover:text-accent">{navLabels.projects}</a>
          <a href="/#contact" class="hover:text-accent">{navLabels.contact}</a>
          <ThemeToggle />
        </div>
      </nav>
    </header>

    <main class="mx-auto max-w-5xl p-4 md:p-8">
      <slot />
    </main>

    <footer class="mt-16 border-t bg-white dark:bg-[#0f0b1a]/70 dark:border-[#241f3b]">
      <div class="mx-auto max-w-5xl p-4 text-sm text-zinc-600 dark:text-zinc-400">
        © {new Date().getFullYear()} João Vitor Bruschi — Built with Astro
      </div>
    </footer>
  </body>
</html>
